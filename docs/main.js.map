{"version":3,"sources":["./$_lazy_route_resources|lazy|groupOptions: {}|namespace object","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/candy/candy.component.ts","./src/app/candy/candy.component.html","./src/app/candy/canvas/canvas.component.ts","./src/app/candy/canvas/canvas.component.html","./src/app/candy/models/candy-text.ts","./src/app/candy/models/index.ts","./src/app/candy/models/particle.ts","./src/app/candy/models/position.ts","./src/app/math/math.component.html","./src/app/math/math.component.ts","./src/app/maze/maze.component.ts","./src/app/maze/maze.component.html","./src/app/maze/models/cell.ts","./src/app/maze/models/index.ts","./src/app/maze/models/keyboard-map.ts","./src/app/maze/models/maze.ts","./src/app/squares/image-tiles/image-tiles.component.ts","./src/app/squares/image-tiles/image-tiles.component.html","./src/app/squares/scramble-squares/scramble-squares.component.ts","./src/app/squares/scramble-squares/scramble-squares.component.html","./src/app/squares/squares.component.ts","./src/app/squares/squares.component.html","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 8255;\nmodule.exports = webpackEmptyAsyncContext;","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {}\r\n","<div style=\"text-align: center; margin-bottom: 0.25rem;\">\r\n  <a href=\"https://github.com/changhuixu/angular-maze\" title=\"git repo\">\r\n    GitHub Repo\r\n  </a>\r\n</div>\r\n<nav style=\"text-align: center;\">\r\n  <a routerLink=\"maze\" routerLinkActive=\"active\">Maze Puzzle</a>\r\n  <div style=\"width: 1rem; display: inline-block;\"></div>\r\n  <a routerLink=\"candy\" routerLinkActive=\"active\">Candy Text</a>\r\n  <div style=\"width: 1rem; display: inline-block;\"></div>\r\n  <a routerLink=\"math\" routerLinkActive=\"active\">Math</a>\r\n  <div style=\"width: 1rem; display: inline-block;\"></div>\r\n  <a routerLink=\"square\" routerLinkActive=\"active\">Squares</a>\r\n</nav>\r\n<div style=\"margin: 0 auto;\">\r\n  <router-outlet></router-outlet>\r\n</div>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { RouterModule } from '@angular/router';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { MazeComponent } from './maze/maze.component';\r\nimport { CandyComponent } from './candy/candy.component';\r\nimport { CanvasComponent } from './candy/canvas/canvas.component';\r\nimport { ScrambleSquaresComponent } from './squares/scramble-squares/scramble-squares.component';\r\nimport { SquaresComponent } from './squares/squares.component';\r\nimport { ImageTilesComponent } from './squares/image-tiles/image-tiles.component';\r\nimport { MathComponent } from './math/math.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    MazeComponent,\r\n    CandyComponent,\r\n    CanvasComponent,\r\n    ScrambleSquaresComponent,\r\n    SquaresComponent,\r\n    ImageTilesComponent,\r\n    MathComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    DragDropModule,\r\n    RouterModule.forRoot([\r\n      { path: '', redirectTo: 'maze', pathMatch: 'full' },\r\n      { path: 'maze', component: MazeComponent },\r\n      { path: 'candy', component: CandyComponent },\r\n      { path: 'math', component: MathComponent },\r\n      { path: 'square', component: SquaresComponent },\r\n      { path: '**', redirectTo: '' },\r\n    ]),\r\n  ],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { CanvasComponent } from './canvas/canvas.component';\r\n\r\n@Component({\r\n  selector: 'app-candy',\r\n  templateUrl: './candy.component.html',\r\n  styleUrls: ['./candy.component.css']\r\n})\r\nexport class CandyComponent implements OnInit {\r\n  name = 'Candy';\r\n  @ViewChild(CanvasComponent) c: CanvasComponent;\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  draw() {\r\n    this.c.draw(this.name);\r\n  }\r\n}\r\n","<div style=\"text-align: center;\">\r\n  <div class=\"my-form\">\r\n    <label for=\"name\">Enter your name: </label>\r\n    <input type=\"text\" [(ngModel)]=\"name\" />\r\n    <button type=\"button\" (click)=\"draw()\">Draw</button>\r\n  </div>\r\n  <section>\r\n    <app-canvas></app-canvas>\r\n  </section>\r\n</div>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  AfterViewInit,\r\n  HostListener,\r\n  ChangeDetectionStrategy\r\n} from '@angular/core';\r\nimport { Position, Particle, CandyText } from '../models';\r\n\r\n@Component({\r\n  selector: 'app-canvas',\r\n  templateUrl: './canvas.component.html',\r\n  styleUrls: ['./canvas.component.css'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CanvasComponent implements OnInit, AfterViewInit {\r\n  private canvas: HTMLCanvasElement;\r\n  private ctx: CanvasRenderingContext2D;\r\n  private candy: CandyText;\r\n  private particles: Particle[] = [];\r\n  private mousePosition = new Position(-100, -100);\r\n  private raf: number;\r\n  private continueAnimating = true;\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  ngAfterViewInit(): void {\r\n    this.canvas = <HTMLCanvasElement>document.getElementById('candy-text');\r\n    this.ctx = this.canvas.getContext('2d');\r\n    this.canvas.style.width = '100%';\r\n    this.canvas.style.height = '100%';\r\n    this.canvas.width = this.canvas.offsetWidth;\r\n    this.canvas.height = this.canvas.offsetHeight;\r\n    this.candy = new CandyText(this.canvas);\r\n    this.draw('Candy');\r\n  }\r\n\r\n  draw(name: string) {\r\n    this.particles.length = 0;\r\n    this.particles = this.candy.getParticles(name);\r\n    this.drawBackground();\r\n    this.particles.forEach(p => {\r\n      p.draw(this.ctx);\r\n    });\r\n  }\r\n\r\n  @HostListener('mousemove', ['$event'])\r\n  calculateMouseRelativePositionInCanvas(e: MouseEvent) {\r\n    // Note: I have handled scroll effect\r\n    this.mousePosition.x =\r\n      e.clientX +\r\n      (document.documentElement.scrollLeft || document.body.scrollLeft) -\r\n      this.canvas.offsetLeft;\r\n    this.mousePosition.y =\r\n      e.clientY +\r\n      (document.documentElement.scrollTop || document.body.scrollTop) -\r\n      this.canvas.offsetTop;\r\n  }\r\n\r\n  @HostListener('mouseenter', ['$event'])\r\n  startAnimation(e: MouseEvent) {\r\n    this.raf = window.requestAnimationFrame(() => this.animate());\r\n    this.continueAnimating = true;\r\n  }\r\n\r\n  // @HostListener('mouseout', ['$event'])\r\n  // stopAnimation(e: MouseEvent) {\r\n  //   window.cancelAnimationFrame(this.raf);\r\n  //   this.continueAnimating = false; // stop animation when mouse out.\r\n  // }\r\n\r\n  animate() {\r\n    if (!this.particles.length || !this.continueAnimating) {\r\n      return; // return when nothing needs to animate\r\n    }\r\n\r\n    this.drawBackground();\r\n    // clean particles are not in canvas to reduce computation\r\n    this.particles = this.particles.filter(p =>\r\n      p.isInCanvas(this.canvas.width, this.canvas.height)\r\n    );\r\n    this.particles.forEach(p => {\r\n      p.flyAwayWhenMouseOver(this.mousePosition);\r\n      p.draw(this.ctx);\r\n    });\r\n\r\n    window.requestAnimationFrame(() => this.animate());\r\n  }\r\n\r\n  private drawBackground(bgColor = '#333') {\r\n    this.ctx.fillStyle = bgColor;\r\n    this.ctx.rect(0, 0, this.canvas.width, this.canvas.height);\r\n    this.ctx.fill();\r\n  }\r\n}\r\n","<canvas id=\"candy-text\" height=\"300\"></canvas>\r\n","import { Particle } from './particle';\r\n\r\nexport class CandyText {\r\n  private readonly ctx: CanvasRenderingContext2D;\r\n\r\n  private readonly denseness = 10;\r\n  private readonly textFont = '200px impact';\r\n  private readonly canvasWidth: number;\r\n  private readonly canvasHeight: number;\r\n\r\n  constructor(private readonly canvas: HTMLCanvasElement) {\r\n    this.ctx = this.canvas.getContext('2d');\r\n    this.canvasWidth = this.canvas.width;\r\n    this.canvasHeight = this.canvas.height;\r\n  }\r\n\r\n  getParticles(word: string): Particle[] {\r\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    this.ctx.font = this.textFont;\r\n    this.ctx.fillStyle = '#000000';\r\n    const starting = this.canvasWidth / 2 - 50 * word.length;\r\n    this.ctx.fillText(word, starting, 220);\r\n    const imageData = this.ctx.getImageData(\r\n      0,\r\n      0,\r\n      this.canvas.width,\r\n      this.canvas.height\r\n    );\r\n\r\n    // iterate over all pixels - leaving density gaps\r\n    const particles: Particle[] = [];\r\n    for (let py = 0; py < this.canvas.height; py += this.denseness) {\r\n      for (let px = 0; px < this.canvas.width; px += this.denseness) {\r\n        const pixel = imageData.data[(px + py * this.canvas.width) * 4 - 1];\r\n        //Pixel is black from being drawn on.\r\n        if (pixel == 255) {\r\n          const p = new Particle(px, py);\r\n          particles.push(p);\r\n        }\r\n      }\r\n    }\r\n    return particles;\r\n  }\r\n}\r\n","export { Position } from './position';\r\nexport { Particle } from './particle';\r\nexport { CandyText } from './candy-text';\r\n","import { Position } from './position';\r\n\r\nexport class Particle {\r\n  public readonly color: string;\r\n  private flying = false;\r\n  public vx = 0;\r\n  public vy = 0;\r\n\r\n  constructor(public x: number, public y: number, public readonly radius = 4) {\r\n    this.color = '#' + ((Math.random() * 0x949494 + 0xaaaaaa) | 0).toString(16);\r\n  }\r\n\r\n  draw(ctx: CanvasRenderingContext2D) {\r\n    if (this.flying) {\r\n      this.x += this.vx;\r\n      this.y += this.vy;\r\n    }\r\n    ctx.fillStyle = this.color;\r\n    ctx.beginPath();\r\n    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, true);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n  }\r\n\r\n  flyAwayWhenMouseOver(mousePosition: Position, mouseAffectRange = 20) {\r\n    const dx = this.x - mousePosition.x;\r\n    const dy = this.y - mousePosition.y;\r\n    const isInRange = dx * dx + dy * dy < mouseAffectRange * mouseAffectRange;\r\n    if (isInRange && !this.flying) {\r\n      this.flying = true;\r\n      this.vx = (Math.random() - 0.5) * mouseAffectRange * 2;\r\n      this.vy = (Math.random() - 0.5) * mouseAffectRange * 2;\r\n    }\r\n  }\r\n\r\n  isInCanvas(canvasWidth: number, canvasHeight: number) {\r\n    return !(\r\n      this.x < -this.radius ||\r\n      this.y < -this.radius ||\r\n      this.x > canvasWidth + this.radius ||\r\n      this.y > canvasHeight + this.radius\r\n    );\r\n  }\r\n}\r\n","export class Position {\r\n  constructor(public x: number, public y: number) {}\r\n}\r\n","<h2 style=\"text-align: center\">Basic Arithmetics</h2>\r\n\r\n<div class=\"card-row\">\r\n  <div class=\"card\">\r\n    <p *ngFor=\"let item of additions\">{{ item }}</p>\r\n  </div>\r\n  <div class=\"card\">\r\n    <p *ngFor=\"let item of subtractions\">{{ item }}</p>\r\n  </div>\r\n  <div class=\"card\">\r\n    <p *ngFor=\"let item of multiplications\" [innerHTML]=\"item\"></p>\r\n  </div>\r\n  <div class=\"card\">\r\n    <p *ngFor=\"let item of divisions\" [innerHTML]=\"item\"></p>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-math',\r\n  templateUrl: './math.component.html',\r\n  styleUrls: ['./math.component.css'],\r\n})\r\nexport class MathComponent implements OnInit {\r\n  nAdd = 10;\r\n  nSub = 10;\r\n  additions: string[] = [];\r\n  subtractions: string[] = [];\r\n  multiplications: string[] = [];\r\n  divisions: string[] = [];\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {\r\n    this.getAdditions();\r\n    this.getSubtractions();\r\n    this.getMultiplications();\r\n    this.getDivisions();\r\n  }\r\n\r\n  getAdditions() {\r\n    const max = 10000;\r\n    const min = 10;\r\n    for (let i = 0; i < this.nAdd; i++) {\r\n      let a = this.randomIntBetween(min, max);\r\n      let b = this.randomIntBetween(min, max);\r\n      this.additions.push(`${a} + ${b}`);\r\n    }\r\n  }\r\n\r\n  getSubtractions() {\r\n    const max = 10000;\r\n    const min = 10;\r\n    for (let i = 0; i < this.nAdd; i++) {\r\n      let a = this.randomIntBetween(min, max);\r\n      let b = this.randomIntBetween(min, max);\r\n      let s = a > b ? `${a} - ${b}` : `${b} - ${a}`;\r\n      this.subtractions.push(s);\r\n    }\r\n  }\r\n\r\n  getMultiplications() {\r\n    const max = 100;\r\n    const min = 1;\r\n    for (let i = 0; i < this.nAdd; i++) {\r\n      let a = this.randomIntBetween(min, max);\r\n      let b = this.randomIntBetween(min, max);\r\n      this.multiplications.push(`${a} &times; ${b}`);\r\n    }\r\n  }\r\n\r\n  getDivisions() {\r\n    const max = 10;\r\n    const min = 1;\r\n    for (let i = 0; i < this.nAdd; i++) {\r\n      let a = this.randomIntBetween(min, max);\r\n      let b = this.randomIntBetween(min, max);\r\n      this.divisions.push(`${a * b} &div; ${b}`);\r\n    }\r\n  }\r\n\r\n  private randomIntBetween(min: number, max: number): number {\r\n    return ~~(Math.random() * (max - min + 1) + min);\r\n  }\r\n}\r\n","import { Component, OnInit, AfterViewInit, HostListener } from '@angular/core';\r\nimport { Cell, Maze, keyboardMap } from './models';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-maze',\r\n  templateUrl: './maze.component.html',\r\n  styleUrls: ['./maze.component.css']\r\n})\r\nexport class MazeComponent implements OnInit, AfterViewInit {\r\n  row = 15;\r\n  col = 15;\r\n  private maze: Maze;\r\n  private canvas: HTMLCanvasElement;\r\n  private ctx: CanvasRenderingContext2D;\r\n  private readonly cellSize = 20; // length of cell edge\r\n  private readonly cellEdgeThickness = 2; // thickness of cell edge\r\n  private readonly cellBackground = '#FFFFFF';\r\n  private readonly solutionPathColor = '#FF7575';\r\n  private readonly myPathColor = '#4080FF';\r\n  private readonly myPathThickness = 10;\r\n  private readonly solutionPathThickness = 3;\r\n  private gameOver = false;\r\n  private myPath: Cell[] = [];\r\n  private currentCell: Cell;\r\n  showTestButton = false;\r\n  busy = false;\r\n\r\n  constructor() {\r\n    if (!environment.production) {\r\n      this.showTestButton = true;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  ngAfterViewInit() {\r\n    this.canvas = <HTMLCanvasElement>document.getElementById('maze');\r\n    this.ctx = this.canvas.getContext('2d');\r\n    this.drawMaze();\r\n  }\r\n\r\n  drawMaze() {\r\n    this.busy = true;\r\n    this.validateInputs();\r\n\r\n    this.maze = new Maze(this.row, this.col);\r\n    this.canvas.width = this.col * this.cellSize;\r\n    this.canvas.height = this.row * this.cellSize;\r\n\r\n    // open the first and last cells to show the entrance and exit\r\n    this.maze.firstCell.westEdge = false;\r\n    this.maze.lastCell.eastEdge = false;\r\n\r\n    // draw the cells\r\n    this.ctx.lineWidth = this.cellEdgeThickness;\r\n    this.ctx.fillStyle = this.cellBackground;\r\n    this.maze.cells.forEach(x => x.forEach(c => this.draw(c)));\r\n\r\n    this.initPlay();\r\n    this.busy = false;\r\n  }\r\n\r\n  initPlay() {\r\n    this.gameOver = false;\r\n    this.myPath.length = 0;\r\n    this.currentCell = this.maze.firstCell; // reset myPath position\r\n    this.myPath.push(this.currentCell);\r\n\r\n    // draw the initial step of myPath in the first Cell as entrance\r\n    this.ctx.lineWidth = this.myPathThickness;\r\n    this.ctx.strokeStyle = this.myPathColor;\r\n    this.ctx.beginPath();\r\n    this.ctx.moveTo(0, this.cellSize / 2);\r\n    this.ctx.lineTo(this.cellSize / 2, this.cellSize / 2);\r\n    this.ctx.stroke();\r\n  }\r\n\r\n  @HostListener('document:keydown', ['$event'])\r\n  handleKeyDown(event: KeyboardEvent) {\r\n    if (this.gameOver) return;\r\n    const direction = keyboardMap[event.key];\r\n    if (direction) {\r\n      this.move(direction);\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  move(direction: 'Left' | 'Right' | 'Up' | 'Down') {\r\n    let nextCell: Cell;\r\n    if (direction === 'Left') {\r\n      if (this.currentCell.col < 1) return;\r\n      nextCell = this.maze.cells[this.currentCell.row][\r\n        this.currentCell.col - 1\r\n      ];\r\n    }\r\n    if (direction === 'Right') {\r\n      if (this.currentCell.col + 1 >= this.col) return;\r\n      nextCell = this.maze.cells[this.currentCell.row][\r\n        this.currentCell.col + 1\r\n      ];\r\n    }\r\n    if (direction === 'Up') {\r\n      if (this.currentCell.row < 1) return;\r\n      nextCell = this.maze.cells[this.currentCell.row - 1][\r\n        this.currentCell.col\r\n      ];\r\n    }\r\n    if (direction === 'Down') {\r\n      if (this.currentCell.row + 1 >= this.row) return;\r\n      nextCell = this.maze.cells[this.currentCell.row + 1][\r\n        this.currentCell.col\r\n      ];\r\n    }\r\n\r\n    if (this.currentCell.isConnectedTo(nextCell)) {\r\n      if (\r\n        this.myPath.length > 1 &&\r\n        this.myPath[this.myPath.length - 2].equals(nextCell)\r\n      ) {\r\n        // this is a step back; reverse the step by erasing the original path\r\n        this.drawPath(this.myPath, this.cellBackground);\r\n        this.myPath.pop();\r\n      } else {\r\n        this.myPath.push(nextCell);\r\n        if (nextCell.equals(this.maze.lastCell)) {\r\n          this.hooray();\r\n          this.drawSolution(this.myPathColor, this.myPathThickness);\r\n          return;\r\n        }\r\n      }\r\n\r\n      this.drawPath(this.myPath);\r\n      this.currentCell = nextCell;\r\n    }\r\n  }\r\n\r\n  undo(nSteps = 5) {\r\n    if (!this.gameOver && this.myPath.length > nSteps) {\r\n      this.drawPath(this.myPath, this.cellBackground);\r\n      this.myPath.splice(-nSteps);\r\n      this.drawPath(this.myPath);\r\n      this.currentCell = this.myPath[this.myPath.length - 1];\r\n    }\r\n  }\r\n\r\n  drawSolution(\r\n    color = this.solutionPathColor,\r\n    lineThickness = this.solutionPathThickness\r\n  ) {\r\n    this.gameOver = true;\r\n    this.drawPath(this.maze.findPath(), color, lineThickness, true);\r\n  }\r\n\r\n  private drawPath(\r\n    path: Cell[],\r\n    color = this.myPathColor,\r\n    lineThickness = this.myPathThickness,\r\n    drawSolution = false\r\n  ) {\r\n    this.ctx.lineWidth = lineThickness;\r\n    this.ctx.strokeStyle = color;\r\n    this.ctx.beginPath();\r\n    this.ctx.moveTo(0, this.cellSize / 2);\r\n\r\n    path.forEach(x =>\r\n      this.ctx.lineTo(\r\n        (x.col + 0.5) * this.cellSize,\r\n        (x.row + 0.5) * this.cellSize\r\n      )\r\n    );\r\n    if (drawSolution) {\r\n      this.ctx.lineTo(\r\n        this.col * this.cellSize,\r\n        (this.row - 0.5) * this.cellSize\r\n      );\r\n    }\r\n    this.ctx.stroke();\r\n  }\r\n\r\n  private draw(cell: Cell) {\r\n    this.ctx.fillRect(\r\n      cell.col * this.cellSize,\r\n      cell.row * this.cellSize,\r\n      (cell.col + 1) * this.cellSize,\r\n      (cell.row + 1) * this.cellSize\r\n    );\r\n    if (cell.northEdge) {\r\n      this.ctx.beginPath();\r\n      this.ctx.moveTo(cell.col * this.cellSize, cell.row * this.cellSize);\r\n      this.ctx.lineTo((cell.col + 1) * this.cellSize, cell.row * this.cellSize);\r\n      this.ctx.stroke();\r\n    }\r\n    if (cell.eastEdge) {\r\n      this.ctx.beginPath();\r\n      this.ctx.moveTo((cell.col + 1) * this.cellSize, cell.row * this.cellSize);\r\n      this.ctx.lineTo(\r\n        (cell.col + 1) * this.cellSize,\r\n        (cell.row + 1) * this.cellSize\r\n      );\r\n      this.ctx.stroke();\r\n    }\r\n    if (cell.southEdge) {\r\n      this.ctx.beginPath();\r\n      this.ctx.moveTo(\r\n        (cell.col + 1) * this.cellSize,\r\n        (cell.row + 1) * this.cellSize\r\n      );\r\n      this.ctx.lineTo(cell.col * this.cellSize, (cell.row + 1) * this.cellSize);\r\n      this.ctx.stroke();\r\n    }\r\n    if (cell.westEdge) {\r\n      this.ctx.beginPath();\r\n      this.ctx.moveTo(cell.col * this.cellSize, (cell.row + 1) * this.cellSize);\r\n      this.ctx.lineTo(cell.col * this.cellSize, cell.row * this.cellSize);\r\n      this.ctx.stroke();\r\n    }\r\n  }\r\n\r\n  private hooray() {\r\n    var audio = new Audio('assets/KidsCheering.mp3');\r\n    audio.play();\r\n  }\r\n\r\n  private validateInputs() {\r\n    if (isNaN(this.row) || this.row < 1) {\r\n      alert('Please enter a positive number for #Rows.');\r\n      this.row = 15;\r\n    }\r\n    if (isNaN(this.col) || this.col < 1) {\r\n      alert('Please enter a positive number for #Columns.');\r\n      this.col = 15;\r\n    }\r\n    if (this.row > 500 || this.col > 500) {\r\n      alert('Size too large. You may crash the browser...');\r\n      this.row = 15;\r\n      this.col = 15;\r\n    }\r\n    this.row = ~~this.row;\r\n    this.col = ~~this.col;\r\n  }\r\n\r\n  test() {\r\n    this.busy = true;\r\n    const cellsHaveFourEdges: Cell[] = [];\r\n    let hasLoop = false;\r\n    const size = 50;\r\n    for (let i = 0; i < 100; i++) {\r\n      const maze = new Maze(size, size);\r\n      maze.cells.forEach(row =>\r\n        row.forEach(c => {\r\n          if (c.nEdges === 4) {\r\n            cellsHaveFourEdges.push(c);\r\n          }\r\n          if (c.col < size - 1 && c.row < size - 1) {\r\n            if (!c.eastEdge && !c.southEdge) {\r\n              const cellOnTheRight = maze.cells[c.row][c.col + 1];\r\n              if (!cellOnTheRight.southEdge) {\r\n                const cellBelow = maze.cells[c.row + 1][c.col];\r\n                if (!cellBelow.eastEdge) {\r\n                  hasLoop = true;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        })\r\n      );\r\n      if (cellsHaveFourEdges.length) {\r\n        alert('dead loop');\r\n        break;\r\n      }\r\n      if (hasLoop) {\r\n        alert('open loop');\r\n        break;\r\n      }\r\n    }\r\n\r\n    console.log(`testing has finished`);\r\n    this.busy = false;\r\n  }\r\n}\r\n","<div style=\"text-align: center;\">\r\n  <div class=\"maze-form\">\r\n    <label for=\"nRow\"># Rows</label>\r\n    <input id=\"nRow\" type=\"number\" [(ngModel)]=\"row\" min=\"1\" max=\"500\" />\r\n    <label for=\"nCol\"># Columns</label>\r\n    <input id=\"nCol\" type=\"number\" [(ngModel)]=\"col\" min=\"1\" max=\"500\" />\r\n    <button type=\"button\" (click)=\"drawMaze()\" [disabled]=\"busy\">\r\n      New Maze\r\n    </button>\r\n    <button type=\"button\" (click)=\"drawSolution()\">Solution</button>\r\n    <button\r\n      type=\"button\"\r\n      (click)=\"test()\"\r\n      *ngIf=\"showTestButton\"\r\n      [disabled]=\"busy\"\r\n    >\r\n      Test\r\n    </button>\r\n  </div>\r\n  <section>\r\n    <canvas id=\"maze\"></canvas>\r\n  </section>\r\n  <section>\r\n    <div class=\"arrows\">\r\n      <div><span (click)=\"move('Up')\" title=\"move up\">⬆️</span></div>\r\n      <div>\r\n        <span (click)=\"move('Left')\" title=\"move left\">⬅️</span>\r\n        <span (click)=\"undo()\" title=\"undo 5 steps\">⏪</span>\r\n        <span (click)=\"move('Right')\" title=\"move right\">➡️</span>\r\n      </div>\r\n      <div><span (click)=\"move('Down')\" title=\"move down\">⬇️</span></div>\r\n    </div>\r\n  </section>\r\n</div>\r\n","/**\r\n *\r\n */\r\nexport class Cell {\r\n  northEdge: boolean = true;\r\n  eastEdge: boolean = true;\r\n  westEdge: boolean = true;\r\n  southEdge: boolean = true;\r\n  neighbors: Cell[] = [];\r\n\r\n  /**\r\n   * a flag used to indicate if the cell has been traversed or not when finding a maze path\r\n   */\r\n  traversed: boolean = false;\r\n\r\n  /**\r\n   * a flag used to indicate if the cell has been visited or not when hunt-and-kill\r\n   */\r\n  visited: boolean = false;\r\n\r\n  /**\r\n   * The number of Edges in this cell.\r\n   * The nEdges counts all four edges. If an edge is false, then 0.\r\n   */\r\n  get nEdges(): number {\r\n    return (\r\n      (this.northEdge ? 1 : 0) +\r\n      (this.southEdge ? 1 : 0) +\r\n      (this.westEdge ? 1 : 0) +\r\n      (this.eastEdge ? 1 : 0)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Create a cell in a maze.\r\n   * @param row rowID of the cell in a maze. integer, row>=0\r\n   * @param col colID of the cell in a maze. integer, col>=0\r\n   */\r\n  constructor(\r\n    public readonly row: number = 0,\r\n    public readonly col: number = 0\r\n  ) {}\r\n\r\n  connectTo(another: Cell) {\r\n    if (!another) return;\r\n    if (this.row === another.row) {\r\n      if (this.col - 1 === another.col) {\r\n        this.westEdge = false;\r\n        another.eastEdge = false;\r\n      } else if (this.col + 1 === another.col) {\r\n        this.eastEdge = false;\r\n        another.westEdge = false;\r\n      } else {\r\n        return;\r\n      }\r\n    } else if (this.col === another.col) {\r\n      if (this.row - 1 === another.row) {\r\n        this.northEdge = false;\r\n        another.southEdge = false;\r\n      } else if (this.row + 1 === another.row) {\r\n        this.southEdge = false;\r\n        another.northEdge = false;\r\n      } else {\r\n        return;\r\n      }\r\n    } else {\r\n      return;\r\n    }\r\n    this.visited = true;\r\n    another.visited = true;\r\n  }\r\n\r\n  equals(another: Cell): boolean {\r\n    return this.row === another.row && this.col === another.col;\r\n  }\r\n\r\n  isConnectedTo(another: Cell): boolean {\r\n    if (this.row === another.row) {\r\n      if (this.col - 1 === another.col) {\r\n        if (this.westEdge === false && another.eastEdge === false) {\r\n          return true;\r\n        }\r\n      }\r\n      if (this.col + 1 === another.col) {\r\n        if (this.eastEdge === false && another.westEdge === false) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    if (this.col === another.col) {\r\n      if (this.row - 1 === another.row) {\r\n        if (this.northEdge === false && another.southEdge === false) {\r\n          return true;\r\n        }\r\n      }\r\n      if (this.row + 1 === another.row) {\r\n        if (this.southEdge === false && another.northEdge === false) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","export { Cell } from './cell';\r\nexport { Maze } from './maze';\r\nexport { keyboardMap } from './keyboard-map';\r\n","export const keyboardMap = {\r\n  ArrowLeft: 'Left',\r\n  A: 'Left',\r\n  a: 'Left',\r\n  ArrowRight: 'Right',\r\n  D: 'Right',\r\n  d: 'Right',\r\n  ArrowUp: 'Up',\r\n  W: 'Up',\r\n  w: 'Up',\r\n  ArrowDown: 'Down',\r\n  S: 'Down',\r\n  s: 'Down',\r\n};\r\n","import { Cell } from './cell';\r\n\r\n/**\r\n * A rectangle maze generated based on \"hunt-and-kill\" algorithm.\r\n */\r\nexport class Maze {\r\n  public readonly cells: Cell[][] = [];\r\n  private readonly randomRowNumbers: number[];\r\n  private readonly randomColNumbers: number[];\r\n\r\n  /**\r\n   * Create a maze with <row> &times; <col> cells.\r\n   * @param nRow number of rows\r\n   * @param nCol number of columns\r\n   */\r\n  constructor(public nRow: number, public nCol: number) {\r\n    // initialize cells\r\n    for (let i = 0; i < nRow; i++) {\r\n      this.cells[i] = [];\r\n      for (let j = 0; j < nCol; j++) {\r\n        this.cells[i][j] = new Cell(i, j);\r\n      }\r\n    }\r\n    // populate cell neighbors (an optimization)\r\n    this.cells.forEach(row => row.forEach(c => this.mapNeighbors(c)));\r\n\r\n    // generate maze\r\n    this.randomRowNumbers = Utils.shuffleArray([...Array(this.nRow).keys()]);\r\n    this.randomColNumbers = Utils.shuffleArray([...Array(this.nCol).keys()]);\r\n    this.huntAndKill();\r\n  }\r\n\r\n  get firstCell(): Cell {\r\n    return this.cells[0][0];\r\n  }\r\n\r\n  get lastCell(): Cell {\r\n    return this.cells[this.nRow - 1][this.nCol - 1];\r\n  }\r\n\r\n  get randomCell(): Cell {\r\n    return this.cells[Utils.random(this.nRow)][Utils.random(this.nCol)];\r\n  }\r\n\r\n  /**\r\n   * traverse the maze using depth-first algorithm\r\n   */\r\n  findPath(): Cell[] {\r\n    this.cells.forEach(x => x.forEach(c => (c.traversed = false)));\r\n    const path: Cell[] = [this.firstCell];\r\n\r\n    while (1) {\r\n      let current = path[0];\r\n      current.traversed = true;\r\n\r\n      if (current.equals(this.lastCell)) {\r\n        break;\r\n      }\r\n\r\n      const traversableNeighbors = current.neighbors\r\n        .filter(c => c.isConnectedTo(current))\r\n        .filter(c => !c.traversed);\r\n      if (traversableNeighbors.length) {\r\n        path.unshift(traversableNeighbors[0]);\r\n      } else {\r\n        path.splice(0, 1);\r\n      }\r\n    }\r\n\r\n    return path.reverse();\r\n  }\r\n\r\n  private huntAndKill() {\r\n    let current = this.randomCell; // hunt-and-kill starts from a random Cell\r\n    while (current) {\r\n      this.kill(current);\r\n      current = this.hunt();\r\n    }\r\n  }\r\n  private kill(current: Cell) {\r\n    while (current) {\r\n      const next = current.neighbors.find(c => !c.visited);\r\n      if (next) {\r\n        current.connectTo(next);\r\n      }\r\n      current = next;\r\n    }\r\n  }\r\n  private hunt(): Cell {\r\n    for (let huntRow of this.randomRowNumbers) {\r\n      for (let huntColumn of this.randomColNumbers) {\r\n        const cell = this.cells[huntRow][huntColumn];\r\n        if (cell.visited) {\r\n          continue;\r\n        }\r\n        const next = cell.neighbors.find(c => c.visited);\r\n        if (next) {\r\n          cell.connectTo(next);\r\n          return cell;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private mapNeighbors(cell: Cell): void {\r\n    if (cell.row - 1 >= 0) {\r\n      cell.neighbors.push(this.cells[cell.row - 1][cell.col]);\r\n    }\r\n    if (cell.row + 1 < this.nRow) {\r\n      cell.neighbors.push(this.cells[cell.row + 1][cell.col]);\r\n    }\r\n    if (cell.col - 1 >= 0) {\r\n      cell.neighbors.push(this.cells[cell.row][cell.col - 1]);\r\n    }\r\n    if (cell.col + 1 < this.nCol) {\r\n      cell.neighbors.push(this.cells[cell.row][cell.col + 1]);\r\n    }\r\n    cell.neighbors = Utils.shuffleArray(cell.neighbors);\r\n  }\r\n}\r\n\r\nclass Utils {\r\n  /**\r\n   * The de-facto unbiased shuffle algorithm is the Fisher-Yates (aka Knuth) Shuffle.\r\n   */\r\n  static shuffleArray(array: any[]): any[] {\r\n    for (let i = array.length - 1; i > 0; i--) {\r\n      const temp = ~~(Math.random() * (i + 1));\r\n      [array[i], array[temp]] = [array[temp], array[i]];\r\n    }\r\n    return array;\r\n  }\r\n\r\n  /**\r\n   * Generate a random index within a number `n`\r\n   */\r\n  static random(n: number): number {\r\n    return ~~(Math.random() * n);\r\n  }\r\n}\r\n","import { Component, OnInit, AfterViewInit, Inject } from '@angular/core';\r\nimport { ImageTile } from '../models';\r\n\r\n@Component({\r\n  selector: 'app-image-tiles',\r\n  templateUrl: './image-tiles.component.html',\r\n  styleUrls: ['./image-tiles.component.css']\r\n})\r\nexport class ImageTilesComponent implements OnInit, AfterViewInit {\r\n  private canvas: HTMLCanvasElement;\r\n  private ctx: CanvasRenderingContext2D;\r\n  private tileCountX = 3;\r\n  private canvasSize: number;\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {\r\n    this.canvasSize = 540;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.canvas = <HTMLCanvasElement>document.getElementById('canvas');\r\n    this.ctx = this.canvas.getContext('2d');\r\n    this.canvas.style.width = `${this.canvasSize}px`;\r\n    this.canvas.style.height = `${this.canvasSize}px`;\r\n    this.canvas.width = this.canvas.offsetWidth;\r\n    this.canvas.height = this.canvas.offsetHeight;\r\n  }\r\n\r\n  upload(files: FileList): void {\r\n    if (files.length === 0) {\r\n      return;\r\n    }\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(files[0]);\r\n    reader.onload = () => {\r\n      const img = new Image();\r\n      img.src = reader.result.toString();\r\n      img.onload = () => {\r\n        //start\r\n        const tiles = this.getTiles(img);\r\n        this.drawTiles(tiles);\r\n      };\r\n    };\r\n  }\r\n  getTiles(img: HTMLImageElement): ImageTile[] {\r\n    if (img.width < this.canvasSize || img.height < this.canvasSize) {\r\n      throw new Error('Image Size too small.');\r\n    }\r\n\r\n    const imgData = this.resizeImage(img, this.canvasSize, this.canvasSize);\r\n    const imgSize =\r\n      imgData.width > imgData.height ? imgData.height : imgData.width;\r\n    const pixelRows = [];\r\n    const data = Array.from(imgData.data);\r\n    while (data.length > 0) {\r\n      pixelRows.push(data.splice(0, imgData.width * 4));\r\n    }\r\n    const tiles: ImageTile[] = [];\r\n    const tileSize = ~~(imgSize / this.tileCountX);\r\n    for (let i = 0; i < this.tileCountX * this.tileCountX; i++) {\r\n      const x = i % this.tileCountX;\r\n      const y = ~~(i / this.tileCountX);\r\n      let tileDataRows: any[] = [];\r\n      for (let row = y * tileSize; row < tileSize * (y + 1); row++) {\r\n        tileDataRows = tileDataRows.concat(\r\n          pixelRows[row].slice(tileSize * x * 4, tileSize * (x + 1) * 4)\r\n        );\r\n      }\r\n      tiles.push(<ImageTile>{\r\n        id: i,\r\n        x: i % this.tileCountX,\r\n        y: ~~(i / this.tileCountX),\r\n        data: new Uint8ClampedArray(tileDataRows)\r\n      });\r\n    }\r\n\r\n    return tiles;\r\n  }\r\n  drawTiles(tiles: ImageTile[]) {\r\n    const offset = 1;\r\n    for (const tile of tiles) {\r\n      this.ctx.putImageData(\r\n        new ImageData(\r\n          tile.data,\r\n          this.canvasSize / this.tileCountX,\r\n          this.canvasSize / this.tileCountX\r\n        ),\r\n        tile.x * 180 * offset,\r\n        tile.y * 180 * offset\r\n      );\r\n    }\r\n  }\r\n\r\n  resizeImage(\r\n    img: HTMLImageElement,\r\n    width: number = 1080,\r\n    height: number = 1080\r\n  ): ImageData {\r\n    if (img.height < img.width) {\r\n      width = Math.floor(height * (img.width / img.height));\r\n    } else {\r\n      height = Math.floor(width * (img.height / img.width));\r\n    }\r\n    let resizingCanvas: HTMLCanvasElement = <HTMLCanvasElement>(\r\n      document.createElement('canvas')\r\n    );\r\n    let resizingCanvasContext = resizingCanvas.getContext('2d');\r\n    resizingCanvas.width = img.width;\r\n    resizingCanvas.height = img.height;\r\n    resizingCanvasContext.drawImage(\r\n      img,\r\n      0,\r\n      0,\r\n      resizingCanvas.width,\r\n      resizingCanvas.height\r\n    );\r\n    let curImageDimensions = {\r\n      width: Math.floor(img.width),\r\n      height: Math.floor(img.height)\r\n    };\r\n\r\n    let halfImageDimensions = {\r\n      width: null,\r\n      height: null\r\n    };\r\n    while (curImageDimensions.width * 0.5 > width) {\r\n      // Reduce the resizing canvas by half and refresh the image\r\n      halfImageDimensions.width = Math.floor(curImageDimensions.width * 0.5);\r\n      halfImageDimensions.height = Math.floor(curImageDimensions.height * 0.5);\r\n\r\n      resizingCanvasContext.drawImage(\r\n        resizingCanvas,\r\n        0,\r\n        0,\r\n        curImageDimensions.width,\r\n        curImageDimensions.height,\r\n        0,\r\n        0,\r\n        halfImageDimensions.width,\r\n        halfImageDimensions.height\r\n      );\r\n\r\n      curImageDimensions.width = halfImageDimensions.width;\r\n      curImageDimensions.height = halfImageDimensions.height;\r\n    }\r\n    let outputCanvas: HTMLCanvasElement = <HTMLCanvasElement>(\r\n      document.createElement('canvas')\r\n    );\r\n    let outputCanvasContext = outputCanvas.getContext('2d');\r\n\r\n    outputCanvas.width = width;\r\n    outputCanvas.height = height;\r\n\r\n    outputCanvasContext.drawImage(\r\n      resizingCanvas,\r\n      0,\r\n      0,\r\n      curImageDimensions.width,\r\n      curImageDimensions.height,\r\n      0,\r\n      0,\r\n      width,\r\n      height\r\n    );\r\n    const imageData = outputCanvasContext.getImageData(0, 0, width, height);\r\n    // outputCanvasContext.clearRect(0, 0, outputCanvas.width, outputCanvas.height);\r\n    return imageData;\r\n  }\r\n}\r\n","<input type=\"file\" #file (change)=\"upload(file.files)\" />\r\n<div>\r\n  <canvas id=\"canvas\"></canvas>\r\n</div>\r\n","import { Component, OnInit, NgModule, ViewChild } from '@angular/core';\r\nimport {\r\n  CdkDrag,\r\n  CdkDragStart,\r\n  CdkDropList,\r\n  CdkDropListGroup,\r\n  CdkDragMove,\r\n  CdkDragEnter,\r\n  CdkDragDrop,\r\n  moveItemInArray\r\n} from '@angular/cdk/drag-drop';\r\nimport { ViewportRuler } from '@angular/cdk/overlay';\r\n\r\n@Component({\r\n  selector: 'app-scramble-squares',\r\n  templateUrl: './scramble-squares.component.html',\r\n  styleUrls: ['./scramble-squares.component.css']\r\n})\r\nexport class ScrambleSquaresComponent implements OnInit {\r\n  @ViewChild(CdkDropListGroup) listGroup: CdkDropListGroup<CdkDropList>;\r\n  @ViewChild(CdkDropList) placeholder: CdkDropList;\r\n\r\n  items: number[] = [1, 2, 3, 4, 5, 6, 7, 8, 9];\r\n\r\n  target: CdkDropList;\r\n  targetIndex: number;\r\n  source: CdkDropList;\r\n  sourceIndex: number;\r\n  dragIndex: number;\r\n  activeContainer;\r\n\r\n  constructor(private viewportRuler: ViewportRuler) {\r\n    this.target = null;\r\n    this.source = null;\r\n  }\r\n\r\n  ngOnInit(): void {}\r\n\r\n  ngAfterViewInit() {\r\n    let phElement = this.placeholder.element.nativeElement;\r\n\r\n    phElement.style.display = 'none';\r\n    phElement.parentElement.removeChild(phElement);\r\n  }\r\n\r\n  add() {\r\n    this.items.push(this.items.length + 1);\r\n  }\r\n\r\n  shuffle() {\r\n    this.items.sort(() => 0.5 - Math.random());\r\n  }\r\n\r\n  dragMoved(e: CdkDragMove) {\r\n    let point = this.getPointerPositionOnPage(e.event);\r\n\r\n    this.listGroup._items.forEach(dropList => {\r\n      if (__isInsideDropListClientRect(dropList, point.x, point.y)) {\r\n        this.activeContainer = dropList;\r\n        return;\r\n      }\r\n    });\r\n  }\r\n\r\n  dropListDropped(event: CdkDragDrop<any[]>) {\r\n    if (!this.target) return;\r\n\r\n    let phElement = this.placeholder.element.nativeElement;\r\n    let parent = phElement.parentElement;\r\n\r\n    phElement.style.display = 'none';\r\n\r\n    parent.removeChild(phElement);\r\n    parent.appendChild(phElement);\r\n    parent.insertBefore(\r\n      this.source.element.nativeElement,\r\n      parent.children[this.sourceIndex]\r\n    );\r\n\r\n    this.target = null;\r\n    this.source = null;\r\n\r\n    if (this.sourceIndex != this.targetIndex)\r\n      moveItemInArray(this.items, this.sourceIndex, this.targetIndex);\r\n  }\r\n\r\n  dropListEnterPredicate = (drag: CdkDrag, drop: CdkDropList) => {\r\n    if (drop == this.placeholder) return true;\r\n\r\n    if (drop != this.activeContainer) return false;\r\n\r\n    let phElement = this.placeholder.element.nativeElement;\r\n    let sourceElement = drag.dropContainer.element.nativeElement;\r\n    let dropElement = drop.element.nativeElement;\r\n\r\n    let dragIndex = __indexOf(\r\n      dropElement.parentElement.children,\r\n      this.source ? phElement : sourceElement\r\n    );\r\n    let dropIndex = __indexOf(dropElement.parentElement.children, dropElement);\r\n\r\n    if (!this.source) {\r\n      this.sourceIndex = dragIndex;\r\n      this.source = drag.dropContainer;\r\n\r\n      phElement.style.width = sourceElement.clientWidth + 'px';\r\n      phElement.style.height = sourceElement.clientHeight + 'px';\r\n\r\n      sourceElement.parentElement.removeChild(sourceElement);\r\n    }\r\n\r\n    this.targetIndex = dropIndex;\r\n    this.target = drop;\r\n\r\n    phElement.style.display = '';\r\n    dropElement.parentElement.insertBefore(\r\n      phElement,\r\n      dropIndex > dragIndex ? dropElement.nextSibling : dropElement\r\n    );\r\n\r\n    // this.placeholder.enter(\r\n    //   drag,\r\n    //   drag.element.nativeElement.offsetLeft,\r\n    //   drag.element.nativeElement.offsetTop\r\n    // );\r\n    return false;\r\n  };\r\n\r\n  /** Determines the point of the page that was touched by the user. */\r\n  getPointerPositionOnPage(event: MouseEvent | TouchEvent) {\r\n    // `touches` will be empty for start/end events so we have to fall back to `changedTouches`.\r\n    const point = __isTouchEvent(event)\r\n      ? event.touches[0] || event.changedTouches[0]\r\n      : event;\r\n    const scrollPosition = this.viewportRuler.getViewportScrollPosition();\r\n\r\n    return {\r\n      x: point.pageX - scrollPosition.left,\r\n      y: point.pageY - scrollPosition.top\r\n    };\r\n  }\r\n}\r\n\r\nfunction __indexOf(collection, node) {\r\n  return Array.prototype.indexOf.call(collection, node);\r\n}\r\n\r\n/** Determines whether an event is a touch event. */\r\nfunction __isTouchEvent(event: MouseEvent | TouchEvent): event is TouchEvent {\r\n  return event.type.startsWith('touch');\r\n}\r\n\r\nfunction __isInsideDropListClientRect(\r\n  dropList: CdkDropList,\r\n  x: number,\r\n  y: number\r\n) {\r\n  const {\r\n    top,\r\n    bottom,\r\n    left,\r\n    right\r\n  } = dropList.element.nativeElement.getBoundingClientRect();\r\n  return y >= top && y <= bottom && x >= left && x <= right;\r\n}\r\n","<h1>Drag&Drop with a flex-wrap</h1>\r\n\r\n<button (click)=\"add()\">Add</button>\r\n<button (click)=\"shuffle()\">Shuffle</button><br />\r\n<ul class=\"example-list\">\r\n  <li *ngFor=\"let item of items\">{{ item }}</li>\r\n</ul>\r\n\r\n<div class=\"example-container\" cdkDropListGroup>\r\n  <div\r\n    cdkDropList\r\n    [cdkDropListEnterPredicate]=\"dropListEnterPredicate\"\r\n    (cdkDropListDropped)=\"dropListDropped($event)\"\r\n  ></div>\r\n  <div\r\n    cdkDropList\r\n    *ngFor=\"let item of items\"\r\n    [cdkDropListEnterPredicate]=\"dropListEnterPredicate\"\r\n    (cdkDropListDropped)=\"dropListDropped($event)\"\r\n  >\r\n    <div cdkDrag class=\"example-box\" (cdkDragMoved)=\"dragMoved($event);\">\r\n      {{item}}\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-squares',\r\n  templateUrl: './squares.component.html',\r\n  styleUrls: ['./squares.component.css']\r\n})\r\nexport class SquaresComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-image-tiles></app-image-tiles>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":"webpack:///"}